(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();function u(n,r){n.exportHtml(c=>{const{html:o}=c,e=document.createElement("a"),t=new Blob([o],{type:"html/plain"});e.href=URL.createObjectURL(t),e.download=`${r}.html`,document.body.appendChild(e),e.click()})}function f(n,r){n.saveDesign(c=>{const o=document.createElement("a"),e=new Blob([JSON.stringify(c)],{type:"json/plain"});o.href=URL.createObjectURL(e),o.download=`${r}.json`,document.body.appendChild(o),o.click()})}function d(n,r){const c=r.files[0];if(!c||c.type!=="application/json")return;const o=new FileReader;o.onload=e=>{var i;const t=(i=e.target)==null?void 0:i.result;t&&n.loadDesign(JSON.parse(t.toString()))},o.readAsText(c)}const l=unlayer.createEditor({id:"editor-container",projectId:264544,displayMode:"email",locale:"ru-RU"});l.setBodyValues({contentWidth:"600px"});const m=document.querySelector(".button-save"),p=document.querySelector(".button-export"),y=document.querySelector(".button-import"),g=document.querySelector(".input-filename"),s=document.querySelector("#loader"),a=()=>document.querySelector(".input-filename").value;m.addEventListener("click",()=>{f(l,a())});p.addEventListener("click",()=>{u(l,a())});y.addEventListener("click",()=>{s.click(),d(l,s)});s.addEventListener("change",n=>{g.value=n.target.files[0].name.replace(/\.[^.$]+$/,""),d(l,n.target)});
